# Hotker Prompt Studio - 功能特性详解

## 📋 目录

1. [版本控制](#版本控制)
2. [协作分享](#协作分享)
3. [AI 智能优化](#ai-智能优化)

---

## 📜 版本控制

### 功能概述

自动追踪提示词模块的每次修改，支持版本标记、对比和恢复。

### 核心特点

- ✅ **自动版本化**：编辑保存时自动创建新版本
- ✅ **版本标记**：支持语义化版本号（v1.0, v2.0-beta等）
- ✅ **修改说明**：记录每次修改的目的和内容
- ✅ **快速恢复**：一键恢复到任意历史版本
- ✅ **版本对比**：查看不同版本的差异

### 使用场景

1. **迭代优化**：测试不同版本的效果，保留最佳版本
2. **错误恢复**：意外修改后快速回滚
3. **团队协作**：追踪谁在何时做了什么修改
4. **学习成长**：查看提示词的演进历程

### 操作指南

#### 创建版本

1. 编辑提示词模块
2. 在保存前填写"修改说明"（可选）
3. 点击"保存"自动创建新版本

#### 查看历史

1. 悬停在模块卡片上
2. 点击黄色"时钟"图标
3. 查看所有历史版本

#### 版本标记

1. 在版本历史中找到目标版本
2. 点击"标记版本"按钮
3. 输入版本号（如 v1.0）

#### 恢复版本

1. 在版本历史中选择目标版本
2. 点击"恢复此版本"
3. 确认后自动恢复（会创建新版本）

### 数据结构

```typescript
interface ModuleVersion {
  id: string;
  moduleId: string;
  versionNumber: number;
  content: PromptModule;
  userId: string;
  changeSummary?: string;
  versionTag?: string;
  createdAt: number;
}
```

---

## 🤝 协作分享

### 功能概述

通过生成分享链接或短码，安全地分享您的提示词模块。

### 核心特点

- ✅ **多种分享方式**：链接、12位短码、二维码
- ✅ **安全保护**：可选密码保护
- ✅ **灵活过期**：1/7/30天或永不过期
- ✅ **使用统计**：访问次数和导入次数
- ✅ **数据快照**：分享时保存数据副本，不影响原数据

### 使用场景

1. **团队协作**：分享给团队成员使用
2. **社区贡献**：分享优质提示词到社区
3. **客户交付**：交付定制的提示词方案
4. **教学培训**：分享示例提示词给学员

### 操作指南

#### 创建分享

1. 悬停在模块卡片上
2. 点击蓝色"分享"图标
3. 设置密码（可选）
4. 选择有效期
5. 点击"创建分享"
6. 复制链接或分享码

#### 导入分享

1. 点击头部绿色"导入提示词"按钮
2. 粘贴分享链接或输入分享码
3. 如需密码，输入密码
4. 点击"导入"
5. 提示词自动添加到库中

### 分享链接格式

```
完整链接: http://localhost:3000/share/a1b2c3d4e5f6
短码: a1b2c3d4e5f6
```

### 安全说明

- 密码使用 Base64 编码（生产环境建议升级为 bcrypt）
- 分享的是数据快照，不会影响原始数据
- 过期后分享失效，无法再访问
- 可随时删除分享

### API 示例

```bash
# 创建分享
curl -X POST http://localhost:3000/api/shares/create \
  -H "Content-Type: application/json" \
  -d '{
    "userId": "user123",
    "shareType": "module",
    "title": "我的提示词",
    "data": {...},
    "password": "optional_password",
    "expiresInDays": 7
  }'

# 访问分享
curl -X POST http://localhost:3000/api/shares/access \
  -H "Content-Type: application/json" \
  -d '{
    "shareKey": "a1b2c3d4e5f6",
    "password": "optional_password"
  }'
```

---

## 🤖 AI 智能优化

### 功能概述

基于 Gemini 2.0 Flash Exp 的智能提示词分析和优化系统。

### 核心特点

- ✅ **质量分析**：4维度评分（清晰性、具体性、结构化、完整性）
- ✅ **问题识别**：自动发现提示词中的潜在问题
- ✅ **改进建议**：提供具体的优化建议
- ✅ **自动优化**：AI 自动生成优化后的提示词
- ✅ **对比预览**：并排展示原始和优化版本

### 使用场景

1. **质量评估**：评估提示词的专业程度
2. **问题诊断**：发现不清晰或模糊的表达
3. **快速优化**：AI 辅助改进提示词
4. **学习提升**：了解优秀提示词的特征

### 操作指南

#### 分析质量

1. 在"提示词工程"中组装提示词
2. 点击紫色"分析质量"按钮
3. 等待 AI 分析（3-5秒）
4. 查看评分结果：
   - 总体评分
   - 各维度得分
   - 发现的问题
   - 改进建议

#### 智能优化

1. 同上组装提示词
2. 点击黄色"智能优化"按钮
3. 等待 AI 优化（5-8秒）
4. 查看对比结果
5. 点击"接受并应用"使用优化版本

### 评分标准

**总体评分**：0-100分
- 90-100：优秀
- 80-89：良好
- 60-79：一般
- <60：需改进

**维度说明**：

1. **清晰性（Clarity）**
   - 指令是否清晰明确
   - 用户能否理解期望的输出
   - 避免模糊或歧义的表达

2. **具体性（Specificity）**
   - 是否提供了足够的细节
   - 约束条件是否明确
   - 避免过度泛化

3. **结构化（Structure）**
   - 是否有良好的组织结构
   - 逻辑是否清晰
   - 是否易于理解和执行

4. **完整性（Completeness）**
   - 是否包含必要的上下文
   - 是否遗漏关键信息
   - 是否满足任务需求

### 最佳实践

#### 好的提示词特征

```
角色定义 ✅
你是一位专业的科技作家，擅长深入浅出地解释复杂的技术概念。

任务描述 ✅
请写一篇关于人工智能的文章。

约束条件 ✅
- 文章长度：800-1000字
- 目标读者：普通大众
- 写作风格：通俗易懂

输出格式 ✅
请使用 Markdown 格式，包含：
1. 引言
2. 主体（至少3个要点）
3. 结论
```

#### 需要改进的提示词

```
❌ 写一篇关于 AI 的文章
（缺少角色定义、具体要求、输出格式）

✅ 改进后：
你是一位专业的科技作家...
（完整的角色、任务、约束、格式）
```

### 成本说明

**单次分析**：
- 输入：~200 tokens
- 输出：~300 tokens
- 成本：约 $0.001

**单次优化**：
- 输入：~250 tokens
- 输出：~500 tokens
- 成本：约 $0.002

**建议**：
- 合理使用，避免频繁调用
- 可使用自己的 Gemini API Key
- 考虑实现结果缓存

### 技术实现

#### 分析提示模板

```
你是一个专业的提示词工程师。请分析以下提示词的质量...

维度分析：
1. 清晰性：指令是否清晰明确
2. 具体性：是否提供了足够的细节
3. 结构化：是否有良好的组织结构
4. 完整性：是否包含必要的上下文

输出格式（JSON）：
{
  "overallScore": 85,
  "dimensions": {...},
  "issues": [...],
  "suggestions": [...]
}
```

#### 优化提示模板

```
你是一个专业的提示词工程师。请优化以下提示词...

优化要求：
1. 确保角色定义清晰
2. 任务描述具体明确
3. 添加必要的约束条件
4. 明确输出格式
5. 保持原意不变
```

### API 示例

```bash
# 分析提示词
curl -X POST http://localhost:3000/api/optimize/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "你的提示词内容",
    "apiKey": "你的 Gemini API Key"
  }'

# 优化提示词
curl -X POST http://localhost:3000/api/optimize/improve \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "你的提示词内容",
    "apiKey": "你的 Gemini API Key"
  }'
```

---

## 🎓 学习资源

### 提示词工程最佳实践

1. **明确角色**：告诉 AI 它应该扮演什么角色
2. **具体任务**：清晰描述要完成的任务
3. **设置约束**：限制输出长度、格式、风格等
4. **提供示例**：Few-shot learning 提升效果
5. **明确格式**：指定输出格式（JSON、Markdown等）

### 推荐阅读

- [OpenAI Prompt Engineering Guide](https://platform.openai.com/docs/guides/prompt-engineering)
- [Google Gemini Best Practices](https://ai.google.dev/docs/prompt_best_practices)
- [Anthropic Prompt Library](https://docs.anthropic.com/claude/prompt-library)

### 社区交流

- GitHub Discussions
- X (Twitter): @hotker_ai
- Discord（即将开放）

---

## 🚀 快速开始

1. **部署应用** - 参考 README.md
2. **配置 API Key** - 获取 Gemini API Key
3. **创建第一个模块** - 进入提示词库
4. **尝试智能优化** - 使用 AI 分析功能
5. **分享给朋友** - 使用分享功能

---

## ❓ 常见问题

### Q: 需要付费吗？
A: 应用本身免费开源。只需要 Gemini API Key，Google 提供免费额度。

### Q: 数据安全吗？
A: Docker 部署时数据存储在本地 SQLite，完全私有。分享功能采用数据快照，不影响原数据。

### Q: 支持其他 AI 模型吗？
A: 当前专为 Gemini 优化，未来可能支持更多模型。

### Q: 可以商用吗？
A: MIT License，可自由商用。但请遵守 Google Gemini 的使用条款。

---

© 2025 Hotker Prompt Studio. All rights reserved.
